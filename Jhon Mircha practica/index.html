<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicios Jhon Mircha Curso</title>
</head>
<body>
  <script>
    /*
    1) Programa una función que cuente el número de caracteres de una cadena de texto, 
    pe. miFuncion("Hola Mundo") devolverá 10.*/
   //----------"funcion declarada"------------ 
    function contarCaracteres(cadena ="") {
     if(!cadena){
       console.warn("No ingresaste ninguna cadena");
    }else {
       console.info(`la cadena ${cadena} tiene ${cadena.length} caracteres.` );
     }
   }
   //contarCaracteres('hola mundo');
  // -----------"funcion expresada"----------- 
  const contarCaracteres2 = (cadena ="") => 
  (!cadena) ? console.warn("No ingresaste ninguna cadena")
  : console.info(`la cadena ${cadena} tiene ${cadena.length} caracteres.` );
  
  //contarCaracteres('hola mundo'); 
/*
  2) Programa una función que te devuelva el texto recortado según el número de 
  caracteres indicados, pe. miFuncion("Hola Mundo", 4) devolverá "Hola".*/

   const recortarTexto = (cadena ="", longitud = undefined) => 
   (!cadena)
   ? console.warn("No ingresaste una cadena de texto")
   :(longitud === undefined)
   ? console.warn("No ingresaste una lingitud para recortar ")
   : console.info(cadena.slice(0,longitud));

   //recortarTexto('hola mundo', 4);

 
 
  /*  
3) Programa una función que dada una String te devuelva un Array de textos 
separados por cierto caracter, pe. miFuncion('hola que tal', ' ') 
devolverá ['hola', 'que', 'tal'].*/
const cadenaArreglo = (cadena ='' , separador = undefined) => (!cadena)
  ? console.warn('no ingresaste una cadena de texto')
  : (separador === undefined)
  ? console.warn('no ingresaste un separador')
  : console.info(cadena.split(separador));

//cadenaArreglo('hola mundo este es la prueba de mi ejercicio 3 ' , "*");
//cadenaArreglo('hola mundo');

/*4) Programa una función que repita un texto X veces, 
pe. miFuncion('Hola Mundo', 3) devolverá Hola Mundo Hola Mundo Hola Mundo.
 */
const repetirCadena = (cadena= '', veces= undefined) => {
if(!cadena) return console.warn('no ingresaste una cadena');

if(veces === undefined) return console.warn('no ingresaste la cantidad de veces a repetir');

if(veces === 0) return console.error('la cantidad de veces a repetir no puede ser 0 ');
if(Math.sign(veces) === -1) return console.error('la cantidad de veces no puede ser negativa ');

for(let i = 1; i<= veces;i++) console.log(`${cadena}, ${i}`);

}


repetirCadena('hola mundo aca estamos repitiendo', 5);
repetirCadena('',0);
repetirCadena('hola mundo',-5);

/*
5) Programa una función que invierta las palabras de una cadena de texto, 
pe. miFuncion("Hola Mundo") devolverá "odnuM aloH".*/

const invertirCadena = (cadena ='') => (!cadena)
? console.warn('no ingresaste una cadena')
: console.info(cadena.split('').reverse().join(''));

//invertirCadena('hola mundo esta cadena se va invertir'); 
//invertirCadena('');



/*6) Programa una función para contar el número de veces que se repite una palabra en un texto largo,
 pe. miFuncion("hola mundo adios mundo", "mundo") devolverá 2.*/

 const contarCadena = (cadena ='', texto='') =>{
  if(!cadena) return console.warn('no ingresaste una cadena');
  if(!texto) return console.warn('no ingresaste un texto');
  let i =0; 
  contador = 0;
  while(i !== -1){
    i = cadena.indexOf(texto, i);
    if(i !== -1) {
      i++;
      contador ++;
    }
  }
  return console.info(`la palabra ${texto} se repite ${contador} veces`);
 }

 contarCadena('hola hola mundo mundo como como estan estan estan', 'hola');

/*7) Programa una función que valide si una palabra o frase dada, es un palíndromo 
(que se lee igual en un sentido que en otro), pe. mifuncion("Salas") devolverá true.*/
const cadenaPalindroma = (cadena ='') =>{
  if(!cadena) return console.warn('no ingresaste una cadena');
  
  cadena = cadena.toLowerCase();
  let alReves = cadena.split('').reverse('').join('');
  return (cadena === alReves) 
  ? console.info(`Si es palindromo, palabra original ${cadena}, palabra al reves ${alReves}`)
  : console.info(`No es palindromo, palabra original ${cadena}, palabra al reves ${alReves}`);

}
//cadenaPalindroma('salas');

/*8) Programa una función que elimine cierto patrón de caracteres de un texto dado, 
pe. miFuncion("xyz1, xyz2, xyz3, xyz4 y xyz5", "xyz") devolverá  "1, 2, 3, 4 y 5.*/

const eliminarCaracteres = (texto ='', patron='') =>
(!texto)
? console.warn('No ingresaste un texto')
:(!patron)
? console.warn('No ingresaste un patron a borrar')
:console.info(texto.replace(new RegExp(patron,'ig'), ''));


eliminarCaracteres('xyz1, xyz2, xyz3, xyz4 y xyz5','xyz');
/*9) Programa una función que obtenga un numero aleatorio entre 501 y 600.*/
const aleatorio = () => console.info(Math.round(Math.random() *100 + 500));
aleatorio();
/*10) Programa una función que reciba un número y evalúe si es capicúa o no 
(que se lee igual en un sentido que en otro), pe. miFuncion(2002) devolverá true.*/

const capicua = (numero = 0) => {
  if(!numero) console.warn('no ingreaste un numero')
  if(typeof numero !== 'number') return console.error(`El valor ${numero} ingresado , NO es un numero `);

  numero = numero.toString();
  let alReves = numero.split('').reverse().join('');
  return(numero === alReves)
  ? console.info(`Si es capicua, numero original ${numero}, numero al reves ${alReves}.`)
  : console.info(`No es capicua, numero original ${numero}, numero al reves ${alReves}.`);
}

//capicua(2002);
/*11) Programa una función que calcule el factorial de un número (El factorial de un entero positivo n, 
se define como el producto de todos los números enteros positivos desde 1 hasta n), pe. miFuncion(5) 
devolverá 120.*/

const factorial = (numero = undefined) => {
  if(!numero) console.warn('no ingreaste un numero')
  if(typeof numero !== 'number') return console.error(`El valor ${numero} ingresado , NO es un numero `);
  if(numero === 0) console.error('el numero no puede ser 0');
  if(Math.sign(numero) === -1) console.error('El numero no puede ser negativo'); 
  let factorial = 1; 
  for(let i = numero; i > 1; i--){
    factorial *= i;
  }

  return console.info(`el factorial de ${numero} es ${factorial}`);
}

//factorial(5);
/*12) Programa una función que determine si un número es primo 
(aquel que solo es divisible por sí mismo y 1) o no, pe. miFuncion(7) devolverá true.*/

const numeroPrimo = (numero = undefined) => { 
  if(!numero) console.warn('no ingreaste un numero')
  if(typeof numero !== 'number') return console.error(`El valor ${numero} ingresado , NO es un numero `);
  if(numero === 0) console.error('el numero no puede ser 0');
  if(numero === 1) console.error('el numero no puede ser 1');
  if(Math.sign(numero) === -1) console.erro('El numero no puede ser negativo'); 
  
  let divisible = false; 
  for(let i = 2; i<numero; i++){
    if(numero % i === 0){
      divisible = true; 
      break;
    }
  }
   return(divisible)
   ? console.log(`El numero ${numero} No es primo`)
   : console.log(`el numero ${numero} Si es primo`);
}

//numeroPrimo(7);
//numeroPrimo(4)
//numeroPrimo();
//numeroPrimo('hola mundo'); 

/*13) Programa una función que determine si un número es par o impar, pe. miFuncion(29) devolverá Impar.*/
const numeroParImpar =(numero = undefined) => { 
  if(!numero) console.warn('no ingreaste un numero')
  if(typeof numero !== 'number') return console.error(`El valor ${numero} ingresado , NO es un numero `);

  return ((numero % 2) === 0)
  ? console.info(`El numero ingresado ${numero}, es par`)
  : console.info(`el numero ingresado ${numero}, es impar`);   
}

//numeroParImpar(4);
//numeroParImpar(3);

/*14) Programa una función para convertir grados Celsius a Fahrenheit y viceversa, pe. miFuncion(0,"C") 
devolverá 32°F.*/

const convertirGrados = (grados = undefined, unidad = undefined) => {
  if(grados === undefined) return console.warn('No ingresaste grados a convertir'); 
  if(typeof(grados) !== 'number') return console.error(`El valor ${grados} ingresado, No es un numero`); 
  if(unidad === undefined) return console.warn(`No ingresaste el tipo de grado a convertir`);
  if(typeof unidad !== 'string') return console.warn(`el valor ${unidad} ingresado, No es una cadena de texto`); 
  if(unidad.length !== 1 || !/(C|F)/.test(unidad)) return console.warn('valor de unidad no reconocido');
  if(unidad === 'C') { 
    return console.info(`${grados} °C = ${Math.round((grados*(9/5)) + 32)} °F`);
  }else if(unidad === 'F') {
    return console.info(`${grados} °F = ${Math.round(((grados -32) *(5/9)))} °C`);
  }else {
    return console.error('El tipo de grados, no se puede convertir');
  }
  
 }

 //convertirGrados(50,'C');
 //convertirGrados(32,'F');
/*15) Programa una función para convertir números de base binaria a decimal y viceversa, 
pe. miFuncion(100,2) devolverá 4 base 10.*/
const convertidorBinario  = (numero = undefined, base = undefined) => {

  if(numero === undefined) return console.wanr('No ingresaste un numero a convertir'); 
  if(typeof(numero) !== 'number') return console.error(`El valor ${numero} ingresado, No es un numero`);
  if(base === undefined) return console.wanr('No ingresaste un numero a convertir'); 
  if(typeof(base) !== 'number') return console.error(`El valor ${base} ingresado, No es un numero`);

  if(base === 2) {
    return console.info(`${numero} base ${base} = ${parseInt(numero,base)} base 10`);

  }else if(base === 10){ 
    return console.info(`${numero} base ${base} = ${(numero.toString(2))} base 2`);
  }else{ 
    console.error('el tipo de base a convertir no es valido');
  }
}

//convertidorBinario(100,2);

/*16) Programa una función que devuelva el monto final después de aplicar un descuento a una cantidad dada, 
pe. miFuncion(1000, 20) devolverá 800.*/

const aplicarDescuento = (monto = undefined, descuento = 0) => { 
  if(monto === undefined) return console.warn(' no ingresaste un monto'); 
  if(typeof(monto) !== 'number') return console.error(`El valor ${monto} ingresado, No es un numero`);
  if(monto === 0 ) return console.warn('el monto no puede ser 0'); 
  if(Math.sign(monto) === -1) return console.error('el monto no puede ser negativo'); 
  if(typeof(descuento) !== 'number') return console.error(`El valor ${descuento} ingresado, No es un numero`);
  if(Math.sign(descuento) === -1) return console.error('el descuento no puede ser negativo'); 

  return console.info(`${monto} - ${descuento}% = ${monto - (monto*descuento)/100}`);

}

aplicarDescuento(1000,20);
/*17) Programa una función que dada una fecha válida determine cuantos años han pasado hasta el día de hoy, 
pe. miFuncion(new Date(1984,4,23)) devolverá 35 años (en 2020).*/

const calcularAnios = (fecha = undefined) =>{

  if(fecha === undefined) return console.warn('No ingresaste la fecha')
  if(!(fecha instanceof Date)) return console.error('El valor ingresado no es una fecha valida'); 

  let hoyMenosFecha = new Date().getTime() - fecha.getTime(), 
  aniosEnMs = 1000 * 60 * 60 * 24 * 365 
  aniosHumanos = Math.floor(hoyMenosFecha/aniosEnMs); 

  return(Math.sign(aniosHumanos) === -1) 
  ? console.info(`Faltan ${Math.abs(aniosHumanos)} años para el ${fecha.getFullYear()}.`)
  : (Math.sign(aniosHumanos) === 1)
  ? console.info(`Han pasado ${aniosHumanos} años, desde ${fecha.getFullYear()}.`)
  : console.info(`estamos en el año actual ${fecha.getFullYear()}`)
}

calcularAnios(false);
calcularAnios(new Date());
calcularAnios(new Date(1984,4,23));   
/*18) Programa una función que dada una cadena de texto cuente el número de vocales y consonantes,
pe. miFuncion("Hola Mundo") devuelva Vocales: 4, Consonantes: 5.*/

const contarLetras = (cadena ='') => {
  if(!cadena) return console.warn('No ingresaste una cadena'); 
  if(typeof cadena !== 'string') return console.error(`El valor${cadena} ingresado, No es una cadena de texto`)

  let vocales = 0, 
  consonantes = 0; 

  cadena = cadena.toLocaleLowerCase(); 

  for(let letra of cadena){
  if(/[aeiouáéíóú]/.test(letra)) vocales++;

  if(/[bcdfghjklmnñpqrstvwxyz]/.test(letra)) consonantes++;
  }

  return console.info({
    cadena,
    vocales,
    consonantes
  })
}

contarLetras('hola mundo contando vocales y consonantes');
/*19) Programa una función que valide que un texto sea un nombre válido, 
pe. miFuncion("Jonathan MirCha") devolverá verdadero.*/

const validarNombre = (nombre ='') => {
  if(!nombre) console.warn('no has ingresado un nombre');
  if(typeof nombre !== 'string') return console.error(`El valor${nombre} ingresado, No es una cadena de texto`);

  let expReg = /^[A-Za-zÑñÀàÈèÌìÒòÙù\s]+$/g.test(nombre);

  return (expReg)
  ? console.info(`${nombre}, es un nombre valido`)
  : console.warn(`${nombre}, no es un nombre valido`);


}

validarNombre('juan jose Aranda');
/*20) Programa una función que valide que un texto sea un email válido, 
pe. miFuncion("jonmircha@gmail.com") devolverá verdadero.*/





  </script>
</body>
</html>